(()=>{"use strict";var e=document.querySelectorAll(".main_slider-image"),t=document.querySelectorAll(".main_slider-dot"),n=0;function o(n){e.forEach((function(e,o){o===n?(e.style.display="block",t[o].classList.add("active")):(e.style.display="none",t[o].classList.remove("disabled"))})),t.forEach((function(e,t){t===n?e.classList.add("disabled"):e.classList.remove("disabled")}))}function c(e){document.querySelector(".section-container").innerHTML="",fetch("https://www.googleapis.com/books/v1/volumes?q=subject:".concat(e,"&key=AIzaSyAJd3kICh5o-BwHt48IcAwt9X_MWxinyR4&printType=books&startIndex=0&maxResults=6&langRestrict=en")).then((function(e){return e.json()})).then((function(e){if(console.log(e),e.items&&Array.isArray(e.items)){var t=document.querySelector(".section-container");t.innerHTML="",e.items.forEach((function(e){var n=e.volumeInfo.title||"Заголовок отсутствует",o=e.volumeInfo.authors?e.volumeInfo.authors.join(", "):"Автор неизвестен",c=e.volumeInfo.imageLinks?e.volumeInfo.imageLinks.thumbnail:"https://placebear.com/g/212/300",a=e.volumeInfo.averageRating||0,s=e.volumeInfo.ratingsCount||0,i=e.volumeInfo.description||"Описание отсутствует",r=e.saleInfo&&e.saleInfo.retailPrice?e.saleInfo.retailPrice.amount:null,l=function(e,t){return e.length<=t?e:e.slice(0,t)+"..."}(i,91),u=document.createElement("div");u.classList.add("book-card"),u.innerHTML='\n                        <img class="image" src="'.concat(c,'" alt="').concat(n,'">\n                        <div class="info-books">\n                        <p class="authors">').concat(o,'</p>\n                        <h1 class="title">').concat(n,'</h1>\n                        <div class="ratings-box">\n                        <img class="average-rating">').concat(a,' / 5</img>\n                        <p class="ratings-count">').concat(s,' review</p>\n                        </div>\n                        <p class="description">').concat(l,"</p>\n                        ").concat(r?'<p class="sale-info retail-prise">$ '.concat(r,"</p>"):"",'\n                        <button class="button-buy">buy now</button>\n                        </div>\n                    ');var d=document.createElement("div");d.classList.add("stars");for(var m=1;m<=5;m++){var v=document.createElement("img");v.textContent=m<=a?"⭐":"☆",d.appendChild(v)}u.appendChild(d),t.appendChild(u)}))}else console.error("Полученные данные некорректны или отсутствуют.")})).catch((function(e){console.error("Произошла ошибка при запросе к API:",e)}))}t.forEach((function(e,t){e.addEventListener("click",(function(){o(n=t)}))})),setInterval((function(){o(n=(n+1)%e.length)}),5e3),o(n);var a=document.querySelectorAll(".category");a[0].classList.add("active-category"),a.forEach((function(e){e.addEventListener("click",(function(){if(!this.classList.contains("active-category")){var e=document.querySelector(".category.active-category");e&&e.classList.remove("active-category"),this.classList.add("active-category"),c(this.textContent)}}))})),c(a[0].textContent)})();